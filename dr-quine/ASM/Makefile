SRC	=	Colleen.asm
OBJ	=	$(SRC:.asm=.o)
CC	=	gcc
ASMC	=	nasm
TARGET	=	Colleen
WWW	=	-Wall -Werror -Wextra

all: $(TARGET)

$(TARGET): $(OBJ)
	$(CC) $(OBJ) -static -g -o $(TARGET)

%.o: %.asm
	$(ASMC) -g -F dwarf -felf64 $< -o  $@

clean: 
	rm $(OBJ) tmp_Colleen

fclean: clean
	rm $(TARGET)
re: fclean all

check: $(TARGET)
	 ./Colleen > tmp_Colleen ; diff tmp_Colleen Colleen.asm
